<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ page.title | default: site.title }}</title>
  <link rel="icon" type="image/x-icon" href="{{ "/favicon.ico" | relative_url }}">
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/base16/material-darker.min.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="{{ "/assets/css/style.css" | relative_url }}">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" defer></script>
  <!-- MathJax for LaTeX support -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']],
        processEscapes: true,
        processEnvironments: true
      },
      options: {
        skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    };
  </script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script>
    // Reading progress bar
    document.addEventListener('DOMContentLoaded', function() {
      var bar = document.getElementById('reading-progress');
      if (!bar) return;
      function updateBar() {
        var scrollTop = window.scrollY;
        var docHeight = document.body.scrollHeight - window.innerHeight;
        var percent = docHeight > 0 ? (scrollTop / docHeight) * 100 : 0;
        bar.style.width = percent + '%';
      }
      window.addEventListener('scroll', updateBar);
      updateBar();
    });
    document.addEventListener('DOMContentLoaded', function(){hljs.highlightAll();});
  </script>
</head>
<body class="post-page">
  <header>
    <div class="container">
      <div class="header-inner">
        <div id="reading-progress" class="reading-progress"></div>
        <div class="header-content">
          <div class="header-left">
            <a href="{{ "/" | relative_url }}" class="logo-link">
              <img src="{{ '/assets/img/profile.webp' | relative_url }}" alt="Profile Picture" class="profile-pic-header" width="40" height="40" loading="lazy">
              <div class="logo">
                <span>secemp</span>
              </div>
            </a>
          </div>
          <nav>
            <ul>
              <li><a href="{{ "/" | relative_url }}" aria-label="Home">Home</a></li>
              <li><a href="{{ "/posts/" | relative_url }}" aria-label="Posts">Posts</a></li>
              <li><a href="{{ "/about/" | relative_url }}" aria-label="About">About</a></li>
            </ul>
          </nav>
          <div class="social-icons">
            <a class="social-icon" href="mailto:secemp9@gmail.com" title="Email" aria-label="Email">
              <svg viewBox="0 0 24 24"><path d="M3 3h18a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1zm17 4.238l-7.928 7.1L4 7.216V19h16V7.238zM4.511 5l7.55 6.662L19.502 5H4.511z"/></svg>
            </a>
            <a class="social-icon" href="https://github.com/secemp9" target="_blank" rel="noopener" title="GitHub" aria-label="GitHub">
              <svg viewBox="0 0 24 24"><path d="M12 .5C5.73.5.5 5.74.5 12.02c0 5.1 3.29 9.42 7.86 10.96.58.11.79-.25.79-.56 0-.28-.01-1.02-.02-2-3.2.7-3.88-1.54-3.88-1.54-.53-1.36-1.3-1.72-1.3-1.72-1.06-.72.08-.71.08-.71 1.17.08 1.78 1.2 1.78 1.2 1.04 1.78 2.73 1.27 3.4.97.11-.75.41-1.27.74-1.56-2.56-.29-5.26-1.28-5.26-5.7 0-1.26.45-2.29 1.19-3.1-.12-.29-.52-1.46.11-3.05 0 0 .98-.31 3.2 1.18a11.1 11.1 0 0 1 2.92-.39c.99 0 1.99.13 2.92.39 2.22-1.49 3.2-1.18 3.2-1.18.63 1.59.23 2.76.11 3.05.74.81 1.19 1.84 1.19 3.1 0 4.43-2.7 5.41-5.27 5.7.42.36.79 1.09.79 2.2 0 1.59-.01 2.87-.01 3.26 0 .31.21.68.8.56C20.71 21.44 24 17.12 24 12.02 24 5.74 18.27.5 12 .5z"/></svg>
            </a>
            <a class="social-icon" href="https://x.com/secemp9" target="_blank" rel="noopener" title="X (Twitter)" aria-label="X (Twitter)">
              <svg viewBox="0 0 24 24"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg>
            </a>
            <a class="social-icon hf-icon" href="https://huggingface.co/secemp9" target="_blank" rel="noopener" title="Hugging Face" aria-label="Hugging Face">
              <img src="{{ '/assets/img/huggingface.svg' | relative_url }}" alt="Hugging Face" width="18" height="18">
            </a>
          </div>
        </div>
      </div>
    </div>
  </header>
  <div class="container">
    <div class="main-container">
      <main>
        <div class="back-link">
          <a href="{{ '/' | relative_url }}" aria-label="Back to Blog">&larr; Back</a>
        </div>
        <div class="page-header">
          <h1 class="page-title">{{ page.title }}</h1>
          {% if page.date %}<div class="page-date">{{ page.date | date: "%Y-%m-%d" }}</div>{% endif %}
        </div>
        <div class="page-content">
          {{ content }}
        </div>
        {% if page.previous.url or page.next.url %}
        <div class="post-nav">
          {% if page.previous.url %}
            <a href="{{ page.previous.url | relative_url }}" aria-label="Previous Post">&larr; Prev</a>
          {% endif %}
          <span style="flex:1"></span>
          {% if page.next.url %}
            <a href="{{ page.next.url | relative_url }}" aria-label="Next Post">Next &rarr;</a>
          {% endif %}
        </div>
        {% endif %}
      </main>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Fix Obsidian-exported local image links (e.g. "Pasted image..." or "ChatGPT Image...") by pointing them to the shared assets folder.
      var assetBase = "{{ '/assets/img/' | relative_url }}";
      if (!assetBase.endsWith('/')) {
        assetBase += '/';
      }
      var externalPattern = /^(?:[a-z]+:)?\/\//i;
      var obsidianPatterns = ['pasted image', 'chatgpt image'];

      document.querySelectorAll('.page-content img').forEach(function(img) {
        var originalSrc = img.getAttribute('src');
        if (!originalSrc) return;
        if (externalPattern.test(originalSrc) || originalSrc.startsWith('/')) return;

        var decoded = decodeURIComponent(originalSrc);
        var lower = decoded.toLowerCase();
        var matchesObsidian = obsidianPatterns.some(function(pattern) {
          return lower.indexOf(pattern) !== -1;
        });
        if (!matchesObsidian) return;

        var filename = originalSrc.split('/').pop();
        if (!filename) return;

        img.setAttribute('src', assetBase + filename);
        if (!img.hasAttribute('loading')) {
          img.setAttribute('loading', 'lazy');
        }
      });
    });
  </script>
</body>
</html> 